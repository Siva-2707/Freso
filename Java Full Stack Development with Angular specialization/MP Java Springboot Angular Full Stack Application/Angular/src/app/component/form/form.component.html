<app-header></app-header>

<div id="form-container">
  <div class="form">
    <div class="form-content">
      <div class="col-sm-12 ">
        <div class="col-sm-8 div-header">
          <h2 class="header">Enter Patient details</h2>
        </div>

      </div>
      <!-- call submitForm method with all form values if form is valid -->
      <form [formGroup]="complexForm">

        <div class="form-group">
          <label class="label-name">
            Name:<span class="required">*</span>
          </label>
          <input id="firstname" formControlName="name" class="form-control text-box" type="text" placeholder="NAME">
          <ng-container
            *ngIf="complexForm.get('name').invalid && (complexForm.get('name').dirty || complexForm.get('name').touched)">
            <div *ngIf="complexForm.get('name').errors?.required" id="error-no-firstname" class="alert alert-danger error-msg">
              {{emptyName}}
            </div>
            <div *ngIf="complexForm.get('name').errors?.minlength" id="error-minlength-firstname" class="alert alert-danger error-msg">
              {{minlengthName}}
            </div>
            <div *ngIf="complexForm.get('name').errors?.maxlength" id="error-maxlength-firstname" class="alert alert-danger error-msg">
              {{maxlengthName}}
            </div>
          </ng-container>

        </div>

        <div class="form-group">
          <label class="label-name">Gender:
            <span class="required">*</span>
          </label>
          <div class="input-div">
            <input type="radio" id="male" class="input-content" value="Male" formControlName="gender">
            <label class="label-content" for="male">Male</label>
            <input type="radio" id="female" class="input-content" value="Female" formControlName="gender">
            <label class="label-content" for="female">Female</label>
          </div>
          <ng-container
            *ngIf="complexForm.get('gender').invalid && (complexForm.get('gender').dirty || complexForm.get('gender').touched)">

            <div id="error-no-gender" class="alert alert-danger error-msg">
              {{noGender}}
            </div>
          </ng-container>
        </div>

        <div class="form-group">
          <label class="label-name">
            Date of birth:<span class="required">*</span>
          </label>
          <div>
            <input id="date-input" class="form-control date-input glyphicon glyphicon-calendar" type="date"
              placeholder="Date of birth" min="1968-01-01" formControlName="dob" max="{{today}}">
          </div>
          <ng-container
            *ngIf="complexForm.get('dob').invalid && (complexForm.get('dob').dirty || complexForm.get('dob').touched)">

            <div id="error-no-dob" class="alert alert-danger error-msg">
              {{noDob}}
            </div>
          </ng-container>
        </div>

        <div class="form-group">
          <label class="label-name">
            Contact number:<span class="required">*</span>
          </label>
          <input id="mobile" class="form-control text-box" type="text" formControlName="mobile"
            placeholder="mobile number">
          <ng-container
            *ngIf="complexForm.get('mobile').invalid && (complexForm.get('mobile').dirty || complexForm.get('mobile').touched)">

            <div *ngIf="complexForm.get('mobile').errors.required" id="error-no-mobile"
              class="alert alert-danger error-msg">
              {{noMobile}}
            </div>
            <div *ngIf="complexForm.get('mobile').errors.pattern" id="error-number-mobile"
              class="alert alert-danger error-msg">
              {{numberMobile}}
            </div>
            <div *ngIf="complexForm.get('mobile').errors.maxlength" id="error-maxlength-mobile"
              class="alert alert-danger error-msg">
              {{maxlengthMobile}}
            </div>
          </ng-container>
        </div>

        <div class="form-group">
          <label class="label-name" for="email">
            Email:<span class="required">*</span>
          </label>
          <input id="email" class="form-control text-box" type="email" formControlName="email" placeholder="example:abc12@tcs.com">
          <ng-container
            *ngIf="complexForm.get('email').invalid && (complexForm.get('email').dirty || complexForm.get('email').touched)">

            <div *ngIf="complexForm.get('email').errors" id="error-pattern-email" class="alert alert-danger error-msg">
              {{patternEmail}}
            </div>
          </ng-container>
        </div>

        <div class="form-group">
          <label class="label-name" for="description">
            Description: <span class="xs-font">(Optional)</span>
          </label>
          <textarea id="description" class="form-control " formControlName="description"
            placeholder="Briefly describe the issue"></textarea>
        </div>

        <div class="form-group">
          <!-- disable button if form not valid -->
          <button type="submit" id="submit-btn" class="btn btn-primary submit-btn" [disabled]="!complexForm.valid" (click)="submitForm(complexForm.value)">Submit</button>
        </div>

      </form>
    </div>
  </div>
</div>
